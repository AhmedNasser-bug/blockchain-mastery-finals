---
/**
 * TermCard Component
 * Renders an encyclopedia entry card with expandable details.
 */
export interface Props {
    termKey: string;
    meaning: string;
    analogy?: string;
    whereUsed?: string;
}

const { termKey, meaning, analogy, whereUsed } = Astro.props;
const displayTitle = termKey.replace(/_/g, ' ');
const preview = meaning.length > 50 ? meaning.substring(0, 50) + '...' : meaning;
---

<div class="term-card">
    <div class="term-header">
        <div class="term-title">{displayTitle}</div>
        <div class="expand-icon">â–¼</div>
    </div>
    <div class="term-preview">{preview}</div>
    <div class="term-details">
        <p><strong>Meaning:</strong> {meaning}</p>
        {analogy && (
            <div class="analogy-box"><strong>Analogy:</strong> {analogy}</div>
        )}
        {whereUsed && (
            <p><strong>Where:</strong> {whereUsed}</p>
        )}
    </div>
</div>

<script>
    // Client-side expand/collapse logic
    document.querySelectorAll('.term-card').forEach(card => {
        card.addEventListener('click', () => {
            card.classList.toggle('expanded');
        });
    });
</script>
