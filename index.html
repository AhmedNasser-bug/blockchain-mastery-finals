<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blockchain Mastery Speedrun</title>
    <meta name="description"
        content="Master Blockchain concepts with this interactive speedrun quiz. 120 questions, timed challenges, and progress tracking used for finals prep.">
    <meta name="theme-color" content="#0a0a0f">
    <meta property="og:title" content="Blockchain Mastery Speedrun">
    <meta property="og:description" content="Ace your blockchain finals with this high-speed quiz app.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://cdn-icons-png.flaticon.com/512/2091/2091665.png">
    <link rel="manifest" href="manifest.json">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚õìÔ∏è</text></svg>">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <button id="installBtn">
        <span>‚¨áÔ∏è</span> Install App
    </button>
    <div class="glow-line"></div>
    <div class="streak-indicator" id="streakIndicator">
        <span class="streak-fire">üî•</span>
        <span class="streak-count" id="streakCount">0</span>
        <span style="color:var(--text-muted);margin-left:5px">STREAK</span>
    </div>
    <div class="combo-popup" id="comboPopup">
        <div class="combo-text" id="comboText"></div>
    </div>
    <div class="particles" id="particles"></div>

    <div class="container">
        <!-- HOME SCREEN -->
        <div class="screen active" id="homeScreen">
            <div class="header">
                <h1>‚õìÔ∏è BLOCKCHAIN MASTERY</h1>
                <p>Speedrun your way to exam excellence</p>
                <a id="brainrotLink" href="brainrot-runner-v1/gamified.html">Gamified version!!</a>
            </div>

            <div class="stats-bar">
                <div class="stat-card">
                    <div class="stat-value" id="totalRuns">0</div>
                    <div class="stat-label">Total Runs</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="bestScore">0%</div>
                    <div class="stat-label">Best Score</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="avgScore">0%</div>
                    <div class="stat-label">Average</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="bestStreak">0</div>
                    <div class="stat-label">Best Streak</div>
                </div>
            </div>

            <div class="card">
                <h2 style="margin-bottom:20px;color:var(--text-primary)">Select Mode</h2>
                <div class="mode-selector">
                    <div class="mode-btn selected" data-mode="speedrun" onclick="selectMode('speedrun')">
                        <h3>‚ö° Speedrun</h3>
                        <p>All 120 questions, timed challenge</p>
                    </div>
                    <div class="mode-btn" data-mode="practice" onclick="selectMode('practice')">
                        <h3>üìö Practice</h3>
                        <p>By category, no pressure</p>
                    </div>
                    <div class="mode-btn" data-mode="blitz" onclick="selectMode('blitz')">
                        <h3>üéØ Blitz</h3>
                        <p>30 random questions, fast-paced</p>
                    </div>
                    <div class="mode-btn" data-mode="flashcards" onclick="startFlashcards()">
                        <h3>üÉè Flashcards</h3>
                        <p>Memorize key terms manually</p>
                    </div>
                </div>

                <div id="categorySelector" style="display:none">
                    <h3 style="margin:30px 0 15px;color:var(--text-secondary)">Choose Category</h3>
                    <div class="category-grid" id="categoryGrid"></div>
                </div>

                <div style="text-align:center;margin-top:20px;margin-bottom:20px">
                    <button class="btn btn-secondary btn-lg" onclick="showRevisionScreen()" id="revisionBtn"
                        style="display:inline-flex">
                        üìñ Encyclopedia
                    </button>
                    <button class="btn btn-primary btn-lg" onclick="startQuiz()"
                        style="margin-left:10px;display:inline-flex">
                        START CHALLENGE
                    </button>
                </div>
            </div>

            <div class="card">
                <h2 style="margin-bottom:20px;color:var(--text-primary)">Run History</h2>
                <div id="historyContainer">
                    <p style="color:var(--text-muted);text-align:center;padding:20px">No runs yet. Start your first
                        challenge!</p>
                </div>
            </div>
        </div>

        <!-- QUIZ SCREEN -->
        <div class="screen" id="quizScreen">
            <div class="card" style="margin-top:20px">
                <div class="timer-display" id="timer">00:00</div>
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar" style="width:0%"></div>
                </div>
                <div class="progress-text">
                    <span id="currentQ">1</span> / <span id="totalQ">120</span> Questions
                    <span style="margin-left:20px">Score: <strong id="liveScore">0</strong></span>
                </div>
            </div>

            <div class="card question-container" id="questionContainer">
                <!-- Question content renders here -->
            </div>

            <div class="card" style="padding:15px">
                <div style="display:flex;justify-content:space-between;align-items:center">
                    <button class="btn btn-secondary" onclick="skipQuestion()">
                        Skip <span class="hot-key">S</span>
                    </button>
                    <button class="btn btn-primary" id="submitBtn" onclick="submitAnswer()" disabled>
                        Submit <span class="hot-key">Enter</span>
                    </button>
                    <button class="btn btn-secondary" id="nextBtn" onclick="nextQuestion()" style="display:none">
                        Next <span class="hot-key">‚Üí</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- FLASHCARD SCREEN -->
        <div class="screen" id="flashcardScreen">
            <div class="header">
                <h1>üÉè Flashcards</h1>
                <div class="progress-container" style="max-width:300px;margin:10px auto">
                    <div class="progress-bar" id="fcProgressBar" style="width:0%"></div>
                </div>
                <p id="fcProgressText">Card 1 / 20</p>
            </div>

            <div class="container" style="display:flex;flex-direction:column;align-items:center;min-height:50vh">
                <div class="flashcard-scene"
                    style="perspective: 1000px; width: 100%; max-width: 500px; height: 300px; cursor: pointer;">
                    <div class="flashcard" id="currentFlashcard" onclick="flipFlashcard()"
                        style="width: 100%; height: 100%; position: relative; transform-style: preserve-3d; transition: transform 0.6s;">
                        <div class="flashcard-front"
                            style="position: absolute; width: 100%; height: 100%; backface-visibility: hidden; background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: 16px; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                            <h2 id="fcTerm" style="color:var(--accent); font-size: 1.8rem; text-align: center;">Term
                                Name</h2>
                            <p style="color:var(--text-muted); margin-top:15px; font-size: 0.9rem;">(Tap to flip)</p>
                        </div>
                        <div class="flashcard-back"
                            style="position: absolute; width: 100%; height: 100%; backface-visibility: hidden; background: var(--bg-card); border: 1px solid var(--accent); border-radius: 16px; transform: rotateY(180deg); display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 25px; box-shadow: 0 4px 15px rgba(0,183,195,0.2); overflow-y: auto;">
                            <div id="fcContent"
                                style="text-align: center; color: var(--text-primary); line-height: 1.6;">Definition
                                text...</div>
                        </div>
                    </div>
                </div>

                <div class="flashcard-controls" id="fcControls"
                    style="display:none; margin-top:30px; gap:10px; flex-wrap: wrap; justify-content: center;">
                    <button class="btn btn-secondary" onclick="nextFlashcard('missed')"
                        style="border-color:var(--error); color:var(--error); min-width: 80px;">Bad üò°</button>
                    <button class="btn btn-secondary" onclick="nextFlashcard('hard')"
                        style="border-color:var(--warning); color:var(--warning); min-width: 80px;">Hard üòê</button>
                    <button class="btn btn-secondary" onclick="nextFlashcard('good')"
                        style="border-color:var(--success); color:var(--success); min-width: 80px;">Good üôÇ</button>
                    <button class="btn btn-secondary" onclick="nextFlashcard('easy')"
                        style="border-color:var(--accent); color:var(--accent); min-width: 80px;">Easy ü§©</button>
                </div>

                <button class="btn btn-outline" onclick="goHome()" style="margin-top:30px">Exit Study Mode</button>
            </div>
        </div>

        <!-- RESULTS SCREEN -->
        <div class="screen" id="resultsScreen">
            <div class="card results-container">
                <h2 style="color:var(--text-secondary)">Challenge Complete!</h2>
                <div class="results-score" id="finalScore">0%</div>
                <div class="results-grade" id="finalGrade">-</div>

                <div class="results-stats">
                    <div class="result-stat">
                        <div class="result-stat-value" id="correctCount">0</div>
                        <div class="result-stat-label">Correct</div>
                    </div>
                    <div class="result-stat">
                        <div class="result-stat-value" id="incorrectCount">0</div>
                        <div class="result-stat-label">Incorrect</div>
                    </div>
                    <div class="result-stat">
                        <div class="result-stat-value" id="finalTime">00:00</div>
                        <div class="result-stat-label">Time</div>
                    </div>
                </div>

                <div style="margin-top:30px">
                    <button class="btn btn-primary" onclick="showReview()">Review Answers</button>
                    <button class="btn btn-secondary" onclick="goHome()" style="margin-left:10px">Back to
                        Home</button>
                </div>
            </div>

            <div class="card" id="reviewContainer" style="display:none">
                <h3 style="margin-bottom:20px">Answer Review</h3>
                <div id="reviewContent"></div>
            </div>
        </div>

        <!-- REVISION SCREEN -->
        <div class="screen" id="revisionScreen">
            <div class="header" style="padding-top:20px;padding-bottom:20px">
                <h1 style="font-size:2rem">üìñ Full Revision</h1>
                <p>Encyclopedia of Blockchain Terms</p>
                <div style="margin-top:20px">
                    <input type="text" id="termSearch" placeholder="Search terms..." class="search-input">
                </div>
            </div>
            <div class="container" style="padding-top:0">
                <button class="btn btn-secondary" onclick="goHome()" style="margin-bottom:20px">
                    ‚Üê Back to Home
                </button>
                <div id="revisionContent" class="revision-grid"></div>
            </div>
        </div>
    </div>

    <script type="module" src="js/app.js"></script>
</body>

</html>